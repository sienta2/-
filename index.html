<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.Kæ–°è</title>
    <style>
        body { font-family: "Arial", sans-serif; background: white; color: black; margin: 0; padding: 20px; }
        .newspaper { max-width: 800px; margin: 0 auto; padding: 20px; border: 2px solid black; background: #f8f8f8; }
        h1 { text-align: center; font-size: 2em; }
        #version { text-align: center; font-size: 1em; margin-bottom: 5px; }
        #date { text-align: center; font-size: 1.2em; margin-bottom: 10px; }
        .article { border-bottom: 1px solid black; padding: 10px 0; }
        .title { font-weight: bold; font-size: 1.5em; }
        .content { font-size: 1.1em; }
        button { background: black; color: white; border: none; padding: 10px; cursor: pointer; margin-top: 5px; }
        button:hover { background: gray; }
        .controls { margin-top: 10px; text-align: center; }
        .save-btn { background: darkred; }
        .save-btn:hover { background: red; }
    </style>
</head>
<body>

    <div class="newspaper">
        <h1>S.Kæ–°è</h1>
        <div id="version">ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1</div>
        <div id="date"></div>
        <div id="news"></div>

        <iframe width="560" height="315" src="https://www.youtube.com/watch?v=bgoObNaPDEc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

        
        <!-- ğŸ› é€Ÿåº¦ãƒ»ãƒ”ãƒƒãƒèª¿æ•´ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ -->
        <div class="controls">
            <label>ğŸ”Š é€Ÿåº¦: <input type="range" id="rate" min="0.5" max="2" step="0.1" value="1"></label>
            <label>ğŸµ ãƒ”ãƒƒãƒ: <input type="range" id="pitch" min="0.5" max="2" step="0.1" value="1"></label>
        </div>
        
        <!-- ğŸ’¾ ä¿å­˜ãƒœã‚¿ãƒ³ -->
        <div class="controls">
            <button class="save-btn" onclick="saveNewspaper()">ğŸ’¾ æ–°èã‚’ä¿å­˜</button>
            <button onclick="loadNewspaper()">ğŸ“œ ä¿å­˜ã—ãŸæ–°èã‚’è¦‹ã‚‹</button>
        </div>
    </div>

    <script>
        let version = localStorage.getItem("newspaperVersion") || 1;
        document.getElementById("version").textContent = `ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ${version}`;

        // ğŸ•’ æ—¥ä»˜ãƒ»æ™‚åˆ»è¡¨ç¤º
        function updateTime() {
            const now = new Date();
            document.getElementById("date").textContent = now.toLocaleString("ja-JP");
        }
        updateTime();
        setInterval(updateTime, 1000);

        // ğŸ“° NHKãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—
        async function fetchNews() {
            const url = "https://www3.nhk.or.jp/rss/news/cat0.xml";
            try {
                const response = await fetch(url);
                const text = await response.text();
                const parser = new DOMParser();
                const xml = parser.parseFromString(text, "text/xml");
                const items = xml.querySelectorAll("item");

                let newsHTML = "";
                items.forEach((item, index) => {
                    if (index >= 5) return;
                    const title = item.querySelector("title").textContent;
                    const description = item.querySelector("description").textContent;
                    newsHTML += `
                        <div class="article">
                            <div class="title">${title}</div>
                            <div class="content">${description}</div>
                            <button onclick="speak('${title} ${description}')">ğŸ“¢ èª­ã¿ä¸Šã’</button>
                        </div>
                    `;
                });
                document.getElementById("news").innerHTML = newsHTML;

                // âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°
                version++;
                localStorage.setItem("newspaperVersion", version);
                document.getElementById("version").textContent = `ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ${version}`;
            } catch (error) {
                console.error("ãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—å¤±æ•—:", error);
                document.getElementById("news").innerHTML = "<p>ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</p>";
            }
        }

        // ğŸ”Š éŸ³å£°èª­ã¿ä¸Šã’æ©Ÿèƒ½
        function speak(text) {
            const synth = window.speechSynthesis;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = "ja-JP";
            utterance.rate = document.getElementById("rate").value;
            utterance.pitch = document.getElementById("pitch").value;
            synth.speak(utterance);
        }

        // ğŸ’¾ æ–°èã‚’ä¿å­˜
        function saveNewspaper() {
            const newspaperContent = document.getElementById("news").innerHTML;
            localStorage.setItem("savedNewspaper", newspaperContent);
            alert("æ–°èã‚’ä¿å­˜ã—ã¾ã—ãŸï¼");
        }

        // ğŸ“œ ä¿å­˜ã—ãŸæ–°èã‚’è¡¨ç¤º
        function loadNewspaper() {
            const savedNewspaper = localStorage.getItem("savedNewspaper");
            if (savedNewspaper) {
                document.getElementById("news").innerHTML = savedNewspaper;
                alert("ä¿å­˜ã—ãŸæ–°èã‚’è¡¨ç¤ºã—ã¾ã—ãŸï¼");
            } else {
                alert("ä¿å­˜ã•ã‚ŒãŸæ–°èãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
            }
        }


  // ğŸ–¨ æ–°èã‚’PDFã§ä¿å­˜
  function saveAsPDF() {
            window.print();
        }

        // â³ 10åˆ†ã”ã¨ã«ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’æ›´æ–°
        fetchNews();
        setInterval(fetchNews, 600000);

    </script>

</body>
</html>

                               Â©s.kä¼šç¤¾.co.jp
